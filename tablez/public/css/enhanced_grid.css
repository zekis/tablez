/**
 * Enhanced Grid CSS
 * Custom styling for improved child table UX
 * Only applies to grids explicitly enhanced via Client Script
 * All styles are scoped to .tablez-enhanced-grid to avoid affecting default grids
 */

/* Hide grid until Tablez is ready to prevent flash (only for enhanced grids) */
.frappe-control[data-fieldtype="Table"] .form-grid.tablez-enhanced-grid {
    opacity: 0;
    transition: opacity 0.15s ease-in;
}

/* Show grid when Tablez is ready */
.frappe-control[data-fieldtype="Table"] .form-grid.tablez-enhanced-grid.tablez-ready {
    opacity: 1 !important;
}

/* Fallback: show non-enhanced grids immediately */
.frappe-control[data-fieldtype="Table"] .form-grid:not(.tablez-enhanced-grid) {
    opacity: 1 !important;
}

/* Row Actions - hidden by default (only for enhanced grids) */
.tablez-enhanced-grid .grid-row-actions {
    display: none !important;
}

/* Read-only rows - prevent editing (only for enhanced grids) */
.tablez-enhanced-grid .tablez-readonly-row .field-area {
    display: none !important;
}

.tablez-enhanced-grid .tablez-readonly-row .static-area {
    display: block !important;
}

.tablez-enhanced-grid .tablez-readonly-row input,
.tablez-enhanced-grid .tablez-readonly-row select,
.tablez-enhanced-grid .tablez-readonly-row textarea {
    pointer-events: none !important;
}

/* Actions column - layout properties only (width is set via JavaScript config) */
.tablez-enhanced-grid .tablez-actions-column {
    display: flex !important;
    gap: 4px !important;
    align-items: center !important;
    justify-content: center !important;
    /* Width properties removed - controlled by column_widths config */
}

/* Actions column header alignment */
.tablez-enhanced-grid .grid-heading-row .tablez-actions-column {
    text-align: center !important;
}

/* Total row styling */
.tablez-enhanced-grid .tablez-total-row {
    background: #f8f9fa !important;
    font-weight: bold !important;
    border-top: 2px solid #dee2e6 !important;
}

.tablez-enhanced-grid .tablez-total-row .col {
    padding: 10px 8px !important;
}

/* Row hover effect */
.tablez-enhanced-grid .grid-body .data-row:hover {
    background-color: var(--bg-light-gray, #f8f9fa) !important;
    transition: background-color 0.15s ease-in-out;
}

/* Don't apply hover to total row */
.tablez-enhanced-grid .tablez-total-row:hover {
    background-color: transparent !important;
}

/* Tablez buttons in grid footer */
.tablez-add-btn,
.tablez-save-btn {
    margin-right: 5px;
}

/* Unsaved rows - visual indicator */
.tablez-enhanced-grid .tablez-unsaved-row {
    background-color: #fffbea !important;
    border-left: 3px solid #f59e0b !important;
}

.tablez-enhanced-grid .tablez-unsaved-row .static-area {
    font-style: italic;
    color: #92400e;
}

.tablez-enhanced-grid .tablez-unsaved-row:hover {
    background-color: #fef3c7 !important;
}

/* End of file - all styles scoped to .tablez-enhanced-grid */

